# 사용자 입력 가이드

비즈니스 문서 시스템을 사용하기 위한 간단한 가이드입니다.

## 빠른 시작

### 1. 간단한 요청 방식 (추천)

자유롭게 작성하면 AI가 알아서 처리합니다:

```markdown
# 제목: 하고 싶은 것을 한 줄로

## 배경
왜 이게 필요한가요?

## 문제점
현재 무엇이 문제인가요?

## 원하는 것
- 일반 사용자: 어떤 기능을 원하나요?
- 운영자: 어떤 관리 기능이 필요한가요?

## 우선순위
급한가요? 중요한가요?
```

**예시:**

```markdown
# 제목: 로그인할 때 추가 보안이 필요해요

## 배경
최근 계정 도용 사례가 있었어요

## 문제점
지금은 비밀번호만으로 로그인 가능

## 원하는 것
- 일반 사용자: 휴대폰으로 인증번호 받아서 로그인
- 운영자: 누가 언제 로그인했는지 확인

## 우선순위
보안 문제라서 급합니다
```

→ AI가 자동으로:
1. **난이도 판단** (간단/중간/복잡)
2. **문서 구조 선택** (2-stage/4-stage)
3. **정규화** (scenario.for-ai.json 생성)
4. **분석 실행**

### 2. 구조화된 방식 (선택)

JSON을 직접 작성할 수도 있습니다:

```json
{
  "code": "BS-XXX",
  "grade": "P1",
  "gradeDescription": "Critical",
  "itemName": "간단한 제목",
  "scenario": "상세 설명",
  "persona": {
    "normalUser": {
      "expectedResult": "기대 결과",
      "acceptanceCriteria": ["기준1", "기준2"]
    },
    "operationUser": {
      "expectedResult": "기대 결과",
      "acceptanceCriteria": ["기준1", "기준2"]
    }
  }
}
```

---

## 입력 템플릿

### 최소 템플릿 (초간단)

```markdown
하고 싶은 것: _________________

왜 필요한가: _________________

누가 사용: _________________

급한 정도: _________________
```

**예시:**
```
하고 싶은 것: 사용자가 프로필 사진 업로드

왜 필요한가: 사용자 식별이 어려움

누가 사용: 모든 사용자

급한 정도: 보통
```

### 표준 템플릿 (권장)

```markdown
# [기능 제목]

## 배경 (Why)
[왜 이 기능이 필요한지 설명]

## 현재 상황
[지금 무엇이 문제인지]

## 원하는 기능

### 일반 사용자
- [기능 1]
- [기능 2]

### 운영자/관리자
- [관리 기능 1]
- [모니터링 기능 2]

## 우선순위
[급함/보통/나중에]

## 참고사항 (선택)
[기술적 제약, 관련 시스템 등]
```

### 상세 템플릿 (복잡한 경우)

```markdown
# [기능 제목]

## 비즈니스 맥락
- **배경**: [왜 필요한가]
- **목표**: [달성하려는 것]
- **기대효과**: [이걸 만들면 어떤 이점]

## 현재 상황 분석
- **문제점**: [현재 시스템의 문제]
- **영향**: [이 문제가 미치는 영향]
- **제약사항**: [고려해야 할 제약]

## 상세 요구사항

### 일반 사용자 (End User)
**기대 결과:**
1. [결과 1]
2. [결과 2]

**구체적 기능:**
- [기능 1 - 상세 설명]
  - 조건: [언제]
  - 동작: [어떻게]
  - 결과: [무엇을]

### 운영자 (Admin/Operator)
**기대 결과:**
1. [관리 결과 1]
2. [모니터링 결과 2]

**관리 기능:**
- [기능 1]
- [로깅/모니터링]

## 우선순위
- **중요도**: [높음/보통/낮음]
- **긴급도**: [급함/보통/나중에]
- **이유**: [왜 이 우선순위인가]

## 기술 참고사항 (선택)
- **관련 시스템**: [연동 필요한 것]
- **기술 스택**: [사용할 기술]
- **제약사항**: [기술적 제약]
- **의존성**: [선행 작업]

## 예상 사용 시나리오
1. [시나리오 1]
2. [시나리오 2]
```

---

## 난이도 자동 판단 기준

AI가 다음을 보고 자동으로 난이도를 판단합니다:

### 간단 (Simple) → 2-Stage Pipeline
**특징:**
- 단순 CRUD 작업
- 1-2개 화면 수정
- 외부 연동 없음
- 3-5일 이내 작업

**예시:**
- 필드 추가/수정
- 단순 UI 변경
- 작은 버그 수정
- 설정 항목 추가

**자동 생성:**
```
scenario.for-ai.json → analysis-report.for-human.md
```

### 중간 (Medium) → 4-Stage Pipeline (권장)
**특징:**
- 여러 컴포넌트 수정
- 일부 외부 연동
- 새로운 비즈니스 로직
- 1-2주 작업

**예시:**
- 알림 기능 추가
- 검색 기능 개선
- 권한 체계 확장
- API 엔드포인트 추가

**자동 생성:**
```
scenario-request.for-human.md → scenario.for-ai.json →
report-readme.for-human.md → analysis-report.for-human.md
```

### 복잡 (Complex) → 4-Stage Pipeline (필수)
**특징:**
- 새로운 서브시스템
- 여러 외부 시스템 연동
- 복잡한 비즈니스 로직
- 2주 이상 작업

**예시:**
- 2단계 인증 (MFA)
- 결제 시스템 통합
- 대시보드 구축
- 마이그레이션

**자동 생성:**
```
scenario-request.for-human.md → scenario.for-ai.json →
report-plan.for-ai.json → report-readme.for-human.md →
analysis-report.for-human.md
```

---

## 작성 가이드라인

### ✅ 좋은 예시

**명확한 목적:**
```markdown
하고 싶은 것: 사용자가 프로필 사진을 업로드하고 수정할 수 있어야 함

왜 필요한가: 현재는 기본 아이콘만 있어서 사용자 구분이 어려움

구체적 요구:
- 이미지 파일 업로드 (JPG, PNG)
- 최대 5MB 제한
- 업로드 후 미리보기
- 삭제 및 재업로드 가능
```

**측정 가능한 기준:**
```markdown
성능 요구사항:
- 업로드 시간 5초 이내
- 이미지 크기 자동 조절 (200x200px)

보안 요구사항:
- 허용된 파일 형식만 업로드
- 악성 파일 검증
```

### ❌ 피해야 할 예시

**모호한 설명:**
```markdown
하고 싶은 것: 시스템 개선

왜 필요한가: 사용자 불만이 있음
```
→ 너무 추상적

**너무 기술적:**
```markdown
하고 싶은 것: REST API에 multipart/form-data 엔드포인트 추가하고
S3 버킷에 업로드 후 CloudFront CDN으로 서빙
```
→ 기술 세부사항보다 **무엇을**, **왜** 중심으로

**측정 불가능:**
```markdown
요구사항:
- 빨라야 함
- 편해야 함
- 안정적이어야 함
```
→ 구체적 기준 필요

---

## 우선순위 가이드

### 중요도 (Grade)

**P1 - Critical (긴급/중요)**
- 보안 문제
- 시스템 장애
- 데이터 무결성
- 규제 준수

**P2 - Major (중요)**
- 핵심 기능
- UX 개선
- 운영 효율
- 성능 이슈

**P3 - Minor (개선)**
- Nice-to-have
- 편의 기능
- 작은 개선
- 기술 부채

### 긴급도 (Priority)

**즉시 (1-2주):**
- 보안 감사 지적
- 서비스 장애
- 고객 클레임

**빠르게 (1-2개월):**
- 로드맵 항목
- 계획된 기능
- 중요 개선

**나중에 (분기별):**
- 작은 개선
- 실험적 기능
- 리팩토링

---

## 자주 묻는 질문 (FAQ)

### Q1: 간단한 요청과 상세한 요청 중 뭘 써야 하나요?

**A:** 처음엔 간단하게 시작하세요!

```markdown
하고 싶은 것: 로그인할 때 2단계 인증

왜: 계정 도용 위험

급한가: 보안 감사 지적사항
```

AI가 부족한 부분을 질문하거나 자동으로 채웁니다.

### Q2: JSON을 직접 써야 하나요?

**A:** 아니요! 마크다운 자유 형식을 권장합니다.

AI가 알아서 JSON으로 변환해줍니다.

### Q3: 기술적인 내용을 얼마나 상세히 써야 하나요?

**A:** 비즈니스 관점 중심으로 작성하세요.

**좋음:**
```
사용자가 로그인할 때 휴대폰 인증번호를 받아야 함
```

**과한 기술:**
```
JWT 토큰에 MFA 클레임 추가하고 TOTP RFC6238 구현
```

기술 세부사항은 분석 단계에서 AI가 제안합니다.

### Q4: 운영자 요구사항이 없으면 어떻게 하나요?

**A:** 일반 사용자만 작성하면 됩니다.

AI가 자동으로 운영자 요구사항(로깅, 모니터링 등)을 제안합니다.

### Q5: 우선순위를 어떻게 정하나요?

**A:** 간단한 질문으로 판단:

1. **보안/장애 관련인가?** → P1 (Critical)
2. **핵심 기능/많은 사용자 영향?** → P2 (Major)
3. **개선/편의 기능?** → P3 (Minor)

잘 모르겠으면 "보통 중요"라고 쓰세요. AI가 판단합니다.

---

## 실제 예시

### 예시 1: 간단한 요청 (프로필 이미지)

```markdown
# 프로필 사진 업로드 기능

## 배경
사용자들이 기본 아이콘만 있어서 서로 구분이 안 됨

## 원하는 것
- 사용자: 프로필 사진 업로드하고 싶음
- 운영자: 부적절한 이미지 신고 및 삭제

## 우선순위
보통 (다음 스프린트)
```

→ AI 판단: **간단 (Simple)** → 2-stage

### 예시 2: 중간 요청 (검색 개선)

```markdown
# 통합 검색 기능 개선

## 배경
현재 검색이 제목만 검색해서 원하는 결과 찾기 어려움
사용자들이 "검색이 안 된다"는 불만

## 원하는 것
- 사용자: 제목, 내용, 태그를 모두 검색
- 사용자: 검색 결과에 하이라이트 표시
- 운영자: 검색 키워드 통계 확인

## 우선순위
중요 (UX 개선 필요)
```

→ AI 판단: **중간 (Medium)** → 4-stage (plan 제외)

### 예시 3: 복잡한 요청 (결제 시스템)

```markdown
# 결제 시스템 통합

## 배경
현재는 수동으로 입금 확인하고 있음
자동화 필요 + 여러 결제 수단 지원 요청 많음

## 원하는 것
- 사용자: 신용카드, 계좌이체, 간편결제로 결제
- 사용자: 결제 내역 및 영수증 확인
- 운영자: 결제 실패 알림 및 재처리
- 운영자: 정산 대시보드 및 통계

## 참고사항
- PG사: 토스페이먼츠 검토 중
- 환불 프로세스 필요
- 정기 결제도 향후 필요할 수 있음

## 우선순위
높음 (서비스 핵심 기능)
```

→ AI 판단: **복잡 (Complex)** → 4-stage (full)

---

## 다음 단계

문서를 작성한 후:

1. **검증**: `doctor` 명령으로 검토
2. **생성**: `create` 명령으로 자동 생성
3. **분석**: 자동으로 코드베이스 분석
4. **확인**: 생성된 보고서 검토

자세한 명령어는 `help`를 참고하세요.
